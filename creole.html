<!DOCTYPE html>
<html lang="ht">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Tip Sèvitè Wayòm nan - Kreyòl Ayisyen</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #1e3a8a;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #2563eb, #1e40af);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1em;
            margin-bottom: 20px;
        }
        
        .question {
            margin-bottom: 25px;
            display: none;
        }
        
        .question.active {
            display: block;
        }
        
        .question h3 {
            color: #1e3a8a;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .options {
            display: grid;
            gap: 10px;
        }
        
        .option {
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }
        
        .option:hover {
            border-color: #2563eb;
            background: #dbeafe;
            transform: translateY(-2px);
        }
        
        .option.selected {
            border-color: #2563eb;
            background: linear-gradient(135deg, #2563eb, #1e40af);
            color: white;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #2563eb, #1e40af);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.4);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .progress {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(135deg, #2563eb, #1e40af);
            transition: width 0.3s ease;
            border-radius: 4px;
        }
        
        .progress-text {
            text-align: center;
            color: #666;
            margin-top: 10px;
        }
        
        .results {
            display: none;
            text-align: center;
        }
        
        .results.active {
            display: block;
        }
        
        .result-type {
            font-size: 2.5em;
            color: #1e3a8a;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #2563eb, #1e40af);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .result-content {
            text-align: left;
            margin: 20px 0;
        }
        
        .result-section {
            margin-bottom: 20px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 8px;
            border-left: 4px solid #2563eb;
        }
        
        .result-section h4 {
            color: #1e3a8a;
            margin-bottom: 10px;
        }
        
        .score-breakdown {
            background: #f0f8ff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2563eb;
        }
        
        .score-breakdown h4 {
            color: #1e3a8a;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .score-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 12px;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #2563eb;
        }
        
        .score-type {
            font-weight: 500;
            color: #1e3a8a;
        }
        
        .score-percentage {
            font-weight: bold;
            color: #2563eb;
        }
        
        .tied-results {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #ffc107;
        }
        
        .reference-note {
            background: #e6f3ff;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #2196f3;
            font-style: italic;
            color: #555;
        }
        
        .dashboard-contribution {
            background: #f0fdf4;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #10b981;
            text-align: center;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="header">
                <h1>Quiz Tip Sèvitè Wayòm nan</h1>
                <p class="subtitle">Dekouvri kijan ou natirèlman kontribye nan yon legliz oswa kominote k ap mache byen</p>
            </div>
            
            <div id="quiz-container">
                <div class="progress">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="progress-text">
                    <span id="current-question">1</span> nan <span id="total-questions">16</span>
                </div>
                
                <!-- Questions will be generated here -->
                <div id="questions"></div>
                
                <div class="navigation">
                    <button class="btn btn-primary" id="prev-btn" onclick="previousQuestion()" disabled>Anvan</button>
                    <button class="btn btn-primary" id="next-btn" onclick="nextQuestion()" disabled>Apre</button>
                    <button class="btn btn-primary" id="submit-btn" onclick="calculateResults()" style="display: none;">Jwenn Rezilta Mwen</button>
                </div>
            </div>
            
            <div id="results-container" class="results">
                <div id="results-content"></div>
                <button class="btn btn-primary" onclick="restartQuiz()" style="margin-top: 20px;">Kòmanse Quiz la Ankò</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "Yon bon wikènd pou ou se:",
                options: [
                    "Planifye bagay entèresan pou lavni",
                    "Pase bon tan ak fanmi ak zanmi yo",
                    "Aprann bagay nouvo",
                    "Fè bagay ki fè ou kontan",
                    "Netwaye espas ou a oswa planifye semèn ki vin an",
                    "Travay sou bagay ki ede lòt moun",
                    "Konstwi oswa ranje bagay ak men ou",
                    "Rankontre moun nouvo ak fè koneksyon"
                ],
                typeOrder: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']
            },
            {
                question: "Moun yo souvan vin jwenn ou lè yo bezwen:",
                options: [
                    "Èd pou òganize oswa fè plan",
                    "Yon moun ki ka ede yo panse nan nouvo fason",
                    "Ankourajman oswa konfyans",
                    "Yon prezantasyon ak bon moun nan",
                    "Èd pou jwenn lajan oswa materyèl",
                    "Bagay difisil yo eksplike nan fason senp",
                    "Èd pratik pou fè yon bagay",
                    "Yon moun ki ka koute yo ak bay sipò"
                ],
                typeOrder: ['E', 'A', 'D', 'H', 'F', 'C', 'G', 'B']
            },
            {
                question: "De moun nan ekip ou an ap goumen. Kisa ou vle fè?",
                options: [
                    "Jwenn yon solisyon ki fonksyone kounye a",
                    "Konekte yo ak yon moun ki te okipe pwoblèm sa a anvan",
                    "Ede rezoud pwoblèm lajan oswa materyèl yo",
                    "Ale wè yo tou de yo apre reyinyon an",
                    "Fè yon blag oswa di yon bagay pozitif",
                    "Pale sou gwo objektif la ak sa nou tout vle",
                    "Eklèsi nenpòt konfizyon sou ki moun ki fè kisa",
                    "Pran yon repo ak fè yon plan klè"
                ],
                typeOrder: ['G', 'H', 'F', 'B', 'D', 'A', 'C', 'E']
            },
            {
                question: "Lè ou kòmanse yon nouvo travay, ou:",
                options: [
                    "Konsantre sou konstwi bon relasyon",
                    "Kòmanse travay sou travay reyèl yo",
                    "Mande sou gwo objektif ak plan konpayi an",
                    "Chèche fason pou fè plis pase jis travay ou a",
                    "Eseye konprann kijan depatman yo travay ansanm",
                    "Vle konprann kijan tout bagay fonksyone",
                    "Mande pou deskripsyon travay yo klè",
                    "Eseye konnen moun k ap travay ak ou yo kòm moun"
                ],
                typeOrder: ['D', 'G', 'A', 'F', 'H', 'C', 'E', 'B']
            },
            {
                question: "Nan tan lib ou, ou renmen aktivite ki:",
                options: [
                    "Kite ou ede kòz ki enpòtan pou ou",
                    "Gen kreyativite oswa eksplore nouvo ide",
                    "Ede ou òganize oswa kreye estriktè",
                    "Kite ou aprann nouvo kapasite oswa vin pi bon",
                    "Elaji rezo ou ak kreye nouvo relasyon",
                    "Pote kè kontan bay ou ak lòt moun",
                    "Konekte ou ak fanmi, zanmi, oswa kominote",
                    "Gen konstwi, kreye, oswa fini pwojè reyèl"
                ],
                typeOrder: ['F', 'A', 'E', 'C', 'H', 'D', 'B', 'G']
            },
            {
                question: "Zanmi ou yo di ou pi bon nan:",
                options: [
                    "Gen kè ouvè ak tan ak lajan ou",
                    "Ede moun yo santi yo pi byen sou tèt yo",
                    "Konnen ki moun pou rele pou nenpòt pwoblèm",
                    "Fè moun yo santi yo gen moun ki okipe yo",
                    "Fè bagay yo byen ak rapidman",
                    "Wè posibilite lòt moun pa wè",
                    "Kenbe bagay yo ap mache san pwoblèm",
                    "Fè sijè difisil yo vin fasil pou konprann"
                ],
                typeOrder: ['F', 'D', 'H', 'B', 'G', 'A', 'E', 'C']
            },
            {
                question: "Kisa ki deranje ou pi plis nan gwoup yo?",
                options: [
                    "Lè bagay yo vin negatif oswa moun yo pèdi espwa",
                    "Lè gen bezwen ki pa gen moun k ap satisfè yo",
                    "Lè moun yo travay pou kont yo olye yo travay ansanm",
                    "Lè moun yo sèlman pale sou ti detay, pa gwo ide",
                    "Lè gen konfizyon ki ta ka eklèsi",
                    "Lè moun yo sanble yo pa gen plas oswa yo dekonekte",
                    "Lè gen twòp pale ak pa gen ase aksyon",
                    "Lè bagay yo pa òganize oswa pa gen plan klè"
                ],
                typeOrder: ['D', 'F', 'H', 'A', 'C', 'B', 'G', 'E']
            },
            {
                question: "Lè ou rantre nan yon komite oswa ekip, ou natirèlman vle:",
                options: [
                    "Pataje konesans ak fòme lòt yo",
                    "Okipe travay pratik la",
                    "Konstwi patnèrya ak lòt gwoup yo",
                    "Ede etabli direksyon long tèm nan",
                    "Kenbe moral ekip la wo",
                    "Asire tout moun santi yo gen plas",
                    "Jwenn finansman oswa jwenn sponsor",
                    "Jere detay yo ak kenbe bagay yo òganize"
                ],
                typeOrder: ['C', 'G', 'H', 'A', 'D', 'B', 'F', 'E']
            },
            {
                question: "Lè ou wè yon moun k ap viv nan lari a, premye bagay ki vin nan tèt ou se:",
                options: [
                    "Mwen mande ki òganizasyon nan zòn nan k ap travay ak moun san kay",
                    "Fòk gen yon fason pi bon pou rezoud pwoblèm nan",
                    "Mwen ta dwe ba l yon bagay",
                    "Ki èd ki genyen? Kijan l ka jwenn li?",
                    "Mwen mande kisa ki te rive l",
                    "Petèt mwen ka ede l ak yon bagay kounye a",
                    "Mwen ta renmen moun yo konprann jan sa difisil",
                    "Mwen espere l konnen l gen valè ak bagay yo ka vin pi bon"
                ],
                typeOrder: ['H', 'A', 'F', 'E', 'B', 'G', 'C', 'D']
            },
            {
                question: "Nan yon fèt fanmi kote ou pa konnen tout moun, ou:",
                options: [
                    "Mande moun yo sou fanmi ak lavi yo",
                    "Ofri pou pote yon bagay oswa ede peye",
                    "Asire moun ki rete an silans yo santi yo gen plas",
                    "Ede moun k ap òganize a ak aktivite yo",
                    "Prezante moun ki gen bagay nan komen",
                    "Pataje istwa sou pwojè entèresan w ap travay sou yo",
                    "Ede sèvi manje oswa prepare bagay yo",
                    "Vin ap eksplike bagay ou konnen yo"
                ],
                typeOrder: ['B', 'F', 'D', 'E', 'H', 'A', 'G', 'C']
            },
            {
                question: "Lè ou wè yon pwoblèm nan kominote ou an, ou:",
                options: [
                    "Chèche fason pou bay lajan, tan, oswa materyèl",
                    "Jwenn ki lòt moun k ap travay sou sa a ak kijan pou ede",
                    "Fè rechèch pou konprann poukisa sa k ap pase a",
                    "Kòmanse travay sou solisyon yo",
                    "Fè yon plan etap pa etap pou rezoud pwoblèm nan",
                    "Jwenn fason pou pote espwa bay moun k ap soufri yo",
                    "Panse sou yon nouvo solisyon ki ka chanje tout bagay",
                    "Ale jwenn moun ki pwoblèm nan afekte yo"
                ],
                typeOrder: ['F', 'H', 'C', 'G', 'E', 'D', 'A', 'B']
            },
            {
                question: "Lè ou planifye yon vwayaj fanmi, ou:",
                options: [
                    "Fè orè detaye ak plan rekonpans",
                    "Mande zanmi ki te ale deja yo pou konsèy",
                    "Konsantre sou fè bon souvni pou tout moun",
                    "Asire tout moun jwenn sa yo vle",
                    "Jwenn aktivite ak planifye sa w ap aprann",
                    "Rezève tout bagay ak fè lis bagay pou pote",
                    "Etabli bidjè a ak jwenn bon pri",
                    "Chèche kote ak panse sou plezi w ap genyen"
                ],
                typeOrder: ['E', 'H', 'D', 'B', 'C', 'G', 'F', 'A']
            },
            {
                question: "Lè yon moun mande ou èd ak yon kriz pèsonèl, premye ensten ou se:",
                options: [
                    "Konekte yo ak lòt moun ki te fè fas ak defi menm jan an",
                    "Jwenn resous pratik oswa asistans yo bezwen",
                    "Antre nan aksyon ak ede rezoud pwoblèm imedya a",
                    "Raple yo fòs yo ak di yo sa a pral pase",
                    "Ede yo konprann sa k ap pase reyèlman",
                    "Ede yo kreye yon plan aksyon etap pa etap",
                    "Koute yo pwofondman ak asire yo santi yo gen sipò",
                    "Ede yo wè sa a kòm yon chans pou grandi ak chanje"
                ],
                typeOrder: ['H', 'F', 'G', 'D', 'C', 'E', 'B', 'A']
            },
            {
                question: "Lè yon zanmi rakonte w yon pwoblèm, ou konn reponn konsa:",
                options: [
                    "Kisa ou te eseye? Kisa ou ta dwe fè apre sa?",
                    "Mwen konnen yon moun ki te pase nan menm bagay sa a",
                    "Èske mwen ka ede? Èske ou bezwen yon bagay?",
                    "Èske ou vle mwen vin lakay ou ede ou rezoud sa a?",
                    "Kijan ou santi w sou tout sa a?",
                    "Sa a difisil, men mwen panse bagay yo pral vin pi bon",
                    "Èske ou te panse sou eseye yon bagay ki totalman diferan?",
                    "Ann mwen ede ou konprann sa k ap pase reyèlman"
                ],
                typeOrder: ['E', 'H', 'F', 'G', 'B', 'D', 'A', 'C']
            },
            {
                question: "Òganizasyon ou an vle ede kominote a. Kisa ou panse premye?",
                options: [
                    "Ki lòt moun k ap fè sa a? Petèt nou ka travay ansanm?",
                    "Sa a pral bon anpil pou tout moun!",
                    "Kote nou pral etabli? Ki bagay nou bezwen?",
                    "Kisa moun yo bezwen aprann pou sa a fonksyone?",
                    "Ki lè nou bezwen fini sa a? Ki moun ki fè kisa?",
                    "Ki moun nou pa t' envite dènyèman? Ki moun ki ta ka santi yo pa gen plas?",
                    "Kisa nou genyen? Kisa nou toujou bezwen?",
                    "Kisa ki gwo objektif nou an? Kijan sa a kole ak plan long tèm nou yo?"
                ],
                typeOrder: ['H', 'D', 'G', 'C', 'E', 'B', 'F', 'A']
            },
            {
                question: "Nan pwojè gwoup, moun yo sonje ou kòm moun ki:",
                options: [
                    "Te asire tout moun santi yo gen plas",
                    "Te swiv dat limit yo ak asire bagay yo te fè",
                    "Te pote ekspè oswa èd depi deyò lè yo te bezwen",
                    "Te jwenn fason pou jwenn lajan oswa materyèl",
                    "Te eksplike bagay yo lè moun yo te konfondye",
                    "Te kenbe moral tout moun wo lè bagay yo te vin difisil",
                    "Te fè anpil nan travay reyèl la",
                    "Te gen ide kreyatè yo"
                ],
                typeOrder: ['B', 'E', 'H', 'F', 'C', 'D', 'G', 'A']
            }
        ];

        const servantTypes = {
            A: {
                name: "Vizyonè",
                definition: "Moun ki bay enèji nan kominote a, toujou ap gade devan ak imajine sa ki posib.",
                strengths: "Bay vizyon, enspire lòt yo, dirije planifikasyon long tèm, kreye ide pou travay ak kominote.",
                thrive: "Lè yo gen espas pou reve, enfliyanse direksyon, ak enspire.",
                differentiator: "Bay direksyon ak poukisa, pa detay yo — diferan ak Òganizatè a."
            },
            B: {
                name: "Bèje",
                definition: "Kè kominote a, ki gen anpil konsèn pou byennèt moun yo.",
                strengths: "Konstwi sans yo gen plas, veye sou manm yo, asire okenn moun pa rete deyò.",
                thrive: "Nan anviwonman relasyonèl kote yo ka nouri ak sipòte.",
                differentiator: "Ofri swen ki dire ak tan, diferan ak Ankourajè a ki bay rafal motivasyon."
            },
            C: {
                name: "Pwofesè",
                definition: "Renmen fè bagay konplike yo vin klè, ekipe lòt yo ak konesans.",
                strengths: "Dirije etid yo, eksplike ekriti yo, konstwi zouti fòmasyon.",
                thrive: "Nan anviwonman ansèyman kote yo ka eklèsi ak pataje konesans.",
                differentiator: "Tradwi ide yo nan leson, diferan ak Vizyonè a ki bay direksyon."
            },
            D: {
                name: "Ankourajè",
                definition: "Moun ki bay motivasyon nan gwoup la, kenbe enèji wo ak moun yo gen espwa.",
                strengths: "Leve lòt yo, antre bon kè, gaye pozitivite.",
                thrive: "Nan espas ki konsantre sou moun kote yo ka motive ak konfime.",
                differentiator: "Bay ankourajman emosyonèl, diferan ak Bèje a ki ofri swen ki kontinye."
            },
            E: {
                name: "Òganizatè",
                definition: "Moun ki planifye ak kòdone ki kenbe tout bagay ap mache san pwoblèm.",
                strengths: "Jere detay yo, kòdone volontè yo, asire egzekisyon san fo.",
                thrive: "Nan anviwonman ki gen estriktè ak lis ak orè.",
                differentiator: "Kreye sistèm, diferan ak Konstruktè a ki renmen aksyon ak men yo."
            },
            F: {
                name: "Donatè",
                definition: "Bay gaz nan misyon an ak bay resous.",
                strengths: "Fè don, leve lajan, konekte ak sponsor, asire bezwen yo satisfè.",
                thrive: "Lè yo ka kontribye ak bay resous nan vizyon an.",
                differentiator: "Bay resous tanjibl, diferan ak Ankourajè a ki ofri mo sipò."
            },
            G: {
                name: "Konstruktè",
                definition: "Moun ki aji ak men yo ki fè plan yo vin reyalite.",
                strengths: "Etabli evenman yo, jere teknoloji, konstwi sa ki bezwen.",
                thrive: "Nan anviwonman aksyon kote yo ka travay ak men yo.",
                differentiator: "Egzekite travay yo, diferan ak Òganizatè a ki jere lojistik ak plan."
            },
            H: {
                name: "Konektè",
                definition: "Moun ki konstwi pon ki konnekte moun ak ide yo nan kominote yo.",
                strengths: "Fè rezo ak moun, fasilite relasyon, kwaze ide yo, fè prezantasyon estratejik.",
                thrive: "Nan anviwonman divès kote yo ka konstwi pon ak kreye sinèji.",
                differentiator: "Kreye koneksyon estratejik ak patnèrya, diferan ak Bèje a ki nouri nan kominote ki deja egziste a."
            }
        };

        let currentQuestion = 0;
        let answers = [];

        function initQuiz() {
            generateQuestions();
            updateProgress();
            showQuestion(0);
            document.getElementById('total-questions').textContent = questions.length;
        }

        function generateQuestions() {
            const questionsContainer = document.getElementById('questions');
            
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.id = `question-${index}`;
                
                questionDiv.innerHTML = `
                    <h3>Q${index + 1}. ${q.question}</h3>
                    <div class="options">
                        ${q.options.map((option, optIndex) => `
                            <div class="option" onclick="selectOption(${index}, ${optIndex})">
                                ${String.fromCharCode(65 + optIndex)}. ${option}
                            </div>
                        `).join('')}
                    </div>
                `;
                
                questionsContainer.appendChild(questionDiv);
            });
        }

        function showQuestion(questionIndex) {
            document.querySelectorAll('.question').forEach(q => q.classList.remove('active'));
            document.getElementById(`question-${questionIndex}`).classList.add('active');
            
            document.getElementById('current-question').textContent = questionIndex + 1;
            
            // Update navigation buttons
            document.getElementById('prev-btn').disabled = questionIndex === 0;
            
            if (questionIndex === questions.length - 1) {
                document.getElementById('next-btn').style.display = 'none';
                document.getElementById('submit-btn').style.display = answers[questionIndex] !== undefined ? 'inline-block' : 'none';
            } else {
                document.getElementById('next-btn').style.display = 'inline-block';
                document.getElementById('submit-btn').style.display = 'none';
                document.getElementById('next-btn').disabled = answers[questionIndex] === undefined;
            }
        }

        function selectOption(questionIndex, optionIndex) {
            // Remove previous selection
            const questionDiv = document.getElementById(`question-${questionIndex}`);
            questionDiv.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            
            // Add selection to clicked option
            questionDiv.querySelectorAll('.option')[optionIndex].classList.add('selected');
            
            // Store answer using the typeOrder mapping
            const servantType = questions[questionIndex].typeOrder[optionIndex];
            answers[questionIndex] = servantType;
            
            // Update navigation
            if (currentQuestion === questions.length - 1) {
                document.getElementById('submit-btn').style.display = 'inline-block';
            } else {
                document.getElementById('next-btn').disabled = false;
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
                updateProgress();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
                updateProgress();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
        }

        function calculateResults() {
            // Count answers
            const counts = { A: 0, B: 0, C: 0, D: 0, E: 0, F: 0, G: 0, H: 0 };
            answers.forEach(answer => {
                if (answer) counts[answer]++;
            });

            // Find highest score(s)
            const maxCount = Math.max(...Object.values(counts));
            const topTypes = Object.keys(counts).filter(key => counts[key] === maxCount);

            displayResults(topTypes, counts);
        }

        function displayResults(topTypes, counts) {
            const resultsContainer = document.getElementById('results-container');
            const resultsContent = document.getElementById('results-content');
            
            // Calculate percentages
            const total = Object.values(counts).reduce((sum, count) => sum + count, 0);
            const percentages = {};
            Object.keys(counts).forEach(key => {
                percentages[key] = Math.round((counts[key] / total) * 100);
            });
            
            // Sort types by percentage (highest first)
            const sortedTypes = Object.keys(percentages).sort((a, b) => percentages[b] - percentages[a]);
            
            let resultsHTML = '';

            if (topTypes.length === 1) {
                const type = servantTypes[topTypes[0]];
                resultsHTML = `
                    <div class="result-type">${type.name}</div>
                    <div class="result-content">
                        <div class="result-section">
                            <h4>Définition</h4>
                            <p>${type.definition}</p>
                        </div>
                        <div class="result-section">
                            <h4>Fòs Ou Yo</h4>
                            <p>${type.strengths}</p>
                        </div>
                        <div class="result-section">
                            <h4>Kijan Ou Grandi</h4>
                            <p>${type.thrive}</p>
                        </div>
                        <div class="result-section">
                            <h4>Sa Ki Fè Ou Inique</h4>
                            <p>${type.differentiator}</p>
                        </div>
                    </div>
                    
                    <div class="score-breakdown">
                        <h4>Profil Sèvitè Konplè Ou A</h4>
                        <div class="score-list">
                            ${sortedTypes.map(typeKey => `
                                <div class="score-item">
                                    <span class="score-type">${servantTypes[typeKey].name}</span>
                                    <span class="score-percentage">${percentages[typeKey]}%</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else {
                const tiedPercentage = percentages[topTypes[0]];
                resultsHTML = `
                    <div class="tied-results">
                        <h4>Fòs Melanje Yo Detekte!</h4>
                        <p>Ou te fè menm pò nan ${topTypes.length} tip sèvitè (${tiedPercentage}% chak), sa vle di ou gen fòs melanje nan:</p>
                        <strong>${topTypes.map(t => servantTypes[t].name).join(', ')}</strong>
                    </div>
                `;
                
                topTypes.forEach(typeKey => {
                    const type = servantTypes[typeKey];
                    resultsHTML += `
                        <div class="result-type">${type.name}</div>
                        <div class="result-content">
                            <div class="result-section">
                                <h4>Définition</h4>
                                <p>${type.definition}</p>
                            </div>
                            <div class="result-section">
                                <h4>Fòs Ou Yo</h4>
                                <p>${type.strengths}</p>
                            </div>
                            <div class="result-section">
                                <h4>Kijan Ou Grandi</h4>
                                <p>${type.thrive}</p>
                            </div>
                            <div class="result-section">
                                <h4>Sa Ki Fè Ou Inique</h4>
                                <p>${type.differentiator}</p>
                            </div>
                        </div>
                    `;
                });
                
                resultsHTML += `
                    <div class="score-breakdown">
                        <h4>Profil Sèvitè Konplè Ou A</h4>
                        <div class="score-list">
                            ${sortedTypes.map(typeKey => `
                                <div class="score-item">
                                    <span class="score-type">${servantTypes[typeKey].name}</span>
                                    <span class="score-percentage">${percentages[typeKey]}%</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            resultsHTML += `
                <div class="reference-note">
                    <strong>Nòt Referans:</strong> Quiz sa a adapte nan de tradisyon etabli: <em>Enventè Don Espirityèl yo</em>, yo te itilize depi lontan nan kominote Kretyen yo, ak <em>Ikigai</em>, sistèm Japonè pou jwenn "rezon pou viv" moun nan. Li te elaji pou gen 8 Tip Sèvitè Wayòm pou ede moun yo idantifye fòs yo, konprann valè yo, ak wè kijan yo pi byen grandi nan yon anviwonman kominote.
                </div>
            `;

            resultsContent.innerHTML = resultsHTML;
            
            // Hide quiz, show results
            document.getElementById('quiz-container').style.display = 'none';
            resultsContainer.classList.add('active');
        }

        function restartQuiz() {
            currentQuestion = 0;
            answers = [];
            
            // Reset UI
            document.getElementById('quiz-container').style.display = 'block';
            document.getElementById('results-container').classList.remove('active');
            
            // Clear selections
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            
            showQuestion(0);
            updateProgress();
        }

        // Initialize quiz on page load
        window.onload = initQuiz;
    </script>
</body>
</html>
